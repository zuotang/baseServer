{"version":3,"sources":["uitls/http.js","api.js","uitls/tools.js","components/WebContext.js","components/Header.js","page/Building.js","page/system/api.js","uitls/query.js","components/ShowMessage.js","hooks/useDebounce.js","page/system/Web.js","page/system/System.js","page/shop/api.js","components/Page.js","page/shop/components/ListEdit.js","page/shop/List.js","components/FormItem.js","components/FileUpload.js","components/FormAttr.js","page/shop/Add.js","page/shop/Shop.js","page/Home.js","hooks/useUserInfo.js","components/UserContext.js","frame/Frame.js","page/Signin.js","frame/Root.js","reportWebVitals.js","index.js"],"names":["instance","axios","create","timeout","withCredentials","interceptors","response","use","data","status","console","log","message","Error","baseUrl","signin","params","a","post","userInfo","get","getWebConfig","getImgSrc","src","startsWith","getThumbSrc","size","WebCtx","createContext","Header","history","React","useState","web","useContext","color","rounding","padding","display","alignItems","logo","width","height","title","exact","activeClassName","to","text","flex","paddingX","accessibilityLabel","icon","onClick","e","date","Date","setTime","getTime","keys","document","cookie","match","i","length","toGMTString","clearAllCookie","push","Home","align","getList","list","edit","cache","set","name","value","policy","localStorage","setItem","JSON","stringify","parse","getItem","his","hisItem","remove","removeItem","handleOption","opt","newList","work","Array","isArray","forEach","Object","values","getQlKey","ql","paramsStr","join","toString","useBaseFetch","defaultData","setData","loading","setLoading","error","setError","mountRef","useRef","cacheRef","onError","onSuccess","updateQuery","cachePolicy","isUpdate","current","key","res","then","resData","catch","type","msg","useEffect","fetch","updateCache","fun","useQuery","options","context","newParams","newOptions","useAutoQuery","notDefault","isFetch","stop","hold","fetchMore","update","ToastExample","time","showToast","setShowToast","setTimeout","fit","dangerouslySetInlineStyle","__style","bottom","left","transform","position","useDebounce","fn","delay","dep","timer","useCallback","args","clearTimeout","call","Item","onChange","ImageItem","StringItem","toLowerCase","setValue","debounce","wrap","paddingY","label","id","helperText","note","show","image","setImage","uploadFile","file","postData","FormData","append","onUploadProgress","Math","floor","loaded","total","url","alt","not","files","uploadFiles","target","Web","props","webCtx","justifyContent","direction","maxWidth","accessibilityLevel","ShowMessage","iconAccessibilityLabel","map","item","System","span","overflow","minHeight","path","component","Building","getShop","attr","addShop","editShop","delShop","reShop","shops","attrEdit","page","total_page","from","v","k","disabled","index","NumInput","styled","input","ItemBox","div","setNum","ListEdit","num","open","setOpen","anchorRef","ref","accessibilityExpanded","accessibilityHaspopup","anchor","idealDirection","onDismiss","positionRelativeToAnchor","pDatas","List","location","pathname","URLSearchParams","search","keyword","setKeyword","action","delFetch","page_size","marginStart","placeholder","sticky","Row","HeaderCell","weight","Body","Cell","photo","wash","naturalHeight","naturalWidth","price","proxy_name","proxy_price","attr_num","attrKay","reduce","Number","Page","FormItem","forwardRef","defaultValue","com","other","Com","ImageBox","syled","FileUpload","formCtx","control","register","useFieldArray","fields","prepend","fileRef","swap","move","insert","newUploads","field","pre","style","marginBottom","margin","top","right","iconColor","click","inline","multiple","FormAttr","column","TextField","marginTop","Add","setMessage","isEdit","useForm","reset","handleSubmit","watch","replace","reShopFetch","onSubmit","goBack","Shop","useUserInfo","role","UserContext","IndexPage","userData","userUpdate","Provider","Signin","errors","borderStyle","marginEnd","Root","Frame","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c6d6e6af.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n// 创建axios实例\r\nconst instance = axios.create({\r\n  //baseURL: process.env.BASE_API, // node环境的不同，对应不同的baseURL\r\n  timeout: 12000, // 请求的超时时间\r\n  withCredentials: true,\r\n});\r\n\r\ninstance.interceptors.response.use((response) => {\r\n  if (response.data.status !== 0) {\r\n    console.log(\"错误\", response.data.message);\r\n    throw new Error(response.data.message);\r\n  }\r\n  return response;\r\n});\r\n\r\nexport default instance;\r\n","import axios from \"./uitls/http\";\r\nexport const baseUrl = process.env.NODE_ENV == \"development\" ? \"http://localhost:80\" : \"\";\r\n//登录\r\nexport async function signin(params) {\r\n  let { data } = await axios.post(baseUrl + \"/user/signin\", { ...params });\r\n  return data.data;\r\n}\r\n\r\n//获取用户消息\r\nexport async function userInfo(params) {\r\n  let { data } = await axios.get(baseUrl + \"/user/info\", { ...params });\r\n  return data.data;\r\n}\r\n\r\nexport async function getWebConfig() {\r\n  let { data } = await axios.get(baseUrl + \"/web/config/\");\r\n  return data.data;\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { baseUrl } from \"../api\";\r\n//解析url请求参数\r\nexport function parseQuery(query) {\r\n  var reg = /([^=&\\s]+)[=\\s]*([^&\\s]*)/g;\r\n  var obj = {};\r\n  while (reg.exec(query)) {\r\n    obj[RegExp.$1] = RegExp.$2;\r\n  }\r\n  return obj;\r\n}\r\n\r\nexport function getVideoData() {\r\n  let sourceList = JSON.parse(localStorage.getItem(\"sourceList\"));\r\n  let queryData = parseQuery(window.location.search.slice(1));\r\n  return sourceList.find((item) => item.id == queryData.id);\r\n}\r\n\r\nexport function useVideo() {\r\n  let [data, setData] = useState({});\r\n  useEffect(() => {\r\n    setData(getVideoData());\r\n  }, []);\r\n  return data;\r\n}\r\n\r\nexport function getImgSrc(src) {\r\n  return src && src.startsWith(\"http\") ? src : `${baseUrl}${src}`;\r\n}\r\nexport function getThumbSrc(src, size = \"sm\") {\r\n  return src && src.startsWith(\"http\") ? src : `${baseUrl}/file/thumb?img=${src}&size=${size}`;\r\n}\r\n\r\nexport function clearAllCookie() {\r\n  var date = new Date();\r\n  date.setTime(date.getTime() - 10000);\r\n  var keys = document.cookie.match(/[^ =;]+(?=\\=)/g);\r\n  console.log(\"需要删除的cookie名字：\" + keys);\r\n  if (keys) {\r\n    for (var i = keys.length; i--; ) document.cookie = keys[i] + \"=0; expire=\" + date.toGMTString() + \"; path=/\";\r\n  }\r\n}\r\n","import React, { createContext } from \"react\";\r\nexport const WebCtx = createContext();\r\n","import React, { useContext } from \"react\";\r\nimport { Box, Icon, ButtonGroup, Button, IconButton, Divider, Heading, SearchField } from \"gestalt\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { clearAllCookie, getImgSrc } from \"../uitls/tools\";\r\nimport { WebCtx } from \"./WebContext\";\r\nfunction Header({ history }) {\r\n  const [value, setValue] = React.useState(\"\");\r\n  let web = useContext(WebCtx);\r\n  return (\r\n    <Box color=\"white\" rounding={2} padding={3} display=\"flex\" alignItems=\"center\">\r\n      <Box display=\"flex\" alignItems=\"center\">\r\n        <Box>\r\n          <img src={getImgSrc(web.logo)} width={35} height={35} />\r\n        </Box>\r\n        <Box padding={2}>\r\n          <Heading color=\"red\" size=\"sm\">\r\n            {web.title}\r\n          </Heading>\r\n        </Box>\r\n      </Box>\r\n\r\n      <Box padding={2}>\r\n        <ButtonGroup>\r\n          <NavLink exact activeClassName=\"selected\" to=\"/\">\r\n            <Button text=\"主页\" color=\"transparent\" />\r\n          </NavLink>\r\n          <Divider />\r\n          <NavLink activeClassName=\"selected\" to=\"/shop\">\r\n            <Button text=\"商品\" color=\"transparent\" />\r\n          </NavLink>\r\n          <NavLink activeClassName=\"selected\" to=\"/system\">\r\n            <Button text=\"系统\" color=\"transparent\" />\r\n          </NavLink>\r\n        </ButtonGroup>\r\n      </Box>\r\n      <Box flex=\"grow\" paddingX={2}>\r\n        {/* <SearchField accessibilityLabel=\"Demo Search Field\" id=\"searchField\" onChange={({ value }) => setValue(value)} placeholder=\"Search and explore\" value={value} /> */}\r\n      </Box>\r\n      {/* <Box paddingX={2}>\r\n        <IconButton accessibilityLabel=\"Notifications\" icon=\"speech-ellipsis\" size=\"md\" />\r\n      </Box> */}\r\n      <Box paddingX={2}>\r\n        <IconButton\r\n          accessibilityLabel=\"退出\"\r\n          icon=\"logout\"\r\n          size=\"md\"\r\n          onClick={(e) => {\r\n            clearAllCookie();\r\n            history.push(\"/signin\");\r\n          }}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { Box, Heading } from \"gestalt\";\r\nfunction Home() {\r\n  return (\r\n    <Box padding={12}>\r\n      <Heading align=\"center\">正在开发中!</Heading>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import axios from \"../../uitls/http\";\r\nimport { baseUrl } from \"../../api\";\r\n\r\nexport async function getList(params) {\r\n  let { data } = await axios.get(baseUrl + \"/web/list\");\r\n  return { list: data.data };\r\n}\r\nexport async function edit(params) {\r\n  let { data } = await axios.post(baseUrl + \"/web/edit\", params);\r\n  return data;\r\n}\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\n//缓存处理\r\nconst cache = {\r\n  data: {},\r\n  set(name, value, policy) {\r\n    if (policy == \"memory\") {\r\n      cache.data[name] = value;\r\n    } else if (policy == \"local\") {\r\n      localStorage.setItem(name, JSON.stringify(value));\r\n    }\r\n  },\r\n  get(name, policy) {\r\n    if (policy == \"memory\") {\r\n      return cache.data[name];\r\n    } else if (policy == \"local\") {\r\n      return JSON.parse(localStorage.getItem(name));\r\n    }\r\n  },\r\n  his(name, policy) {\r\n    if (policy == \"memory\") {\r\n      return !!cache.data[name];\r\n    } else if (policy == \"local\") {\r\n      return localStorage.hisItem(name);\r\n    }\r\n  },\r\n  remove(name, policy) {\r\n    if (policy == \"memory\") {\r\n      delete cache.data[name];\r\n    } else if (policy == \"local\") {\r\n      return localStorage.removeItem(name);\r\n    }\r\n  },\r\n};\r\n\r\nfunction handleOption(opt) {\r\n  let newList = [];\r\n  function work(opt) {\r\n    if (Array.isArray(opt)) {\r\n      opt.forEach(work);\r\n    } else if (opt instanceof Object) {\r\n      Object.values(opt).forEach(work);\r\n    } else {\r\n      newList.push(opt);\r\n    }\r\n  }\r\n  work(opt);\r\n  return newList;\r\n}\r\n\r\n//获取查询函数的特征\r\nfunction getQlKey(ql, params) {\r\n  let paramsStr = handleOption(params).join(\"-\");\r\n  return `${ql.name}_${ql.toString().length}_${paramsStr}`;\r\n}\r\n\r\nfunction useBaseFetch(ql, { defaultData }) {\r\n  let [data, setData] = useState(defaultData || {});\r\n  let [loading, setLoading] = useState(false);\r\n  let [error, setError] = useState(null);\r\n\r\n  let mountRef = useRef();\r\n  let cacheRef = useRef();\r\n  useEffect(() => {\r\n    mountRef.current = true;\r\n    return () => {\r\n      mountRef.current = false;\r\n    };\r\n  }, []);\r\n  async function fetch(params, { onError, onSuccess, updateQuery, title = \"请求\", cachePolicy = \"none\", isUpdate = false }) {\r\n    cacheRef.current = {\r\n      key: getQlKey(ql, params),\r\n      policy: cachePolicy,\r\n    };\r\n    //更新时不取缓存\r\n    let res = !isUpdate && cache.get(cacheRef.current.key, cacheRef.current.policy);\r\n\r\n    //如果不存在缓存则取请求\r\n    if (!res) {\r\n      // 初始数据\r\n      setLoading(true);\r\n      setError(null);\r\n      res = await ql(params)\r\n        .then((resData) => {\r\n          cache.set(cacheRef.current.key, resData, cacheRef.current.policy);\r\n          return resData;\r\n        })\r\n        .catch(function (error) {\r\n          if (!mountRef.current) {\r\n            return;\r\n          }\r\n          setLoading(false);\r\n          setError(error.message);\r\n          onError && onError({ type: \"error\", message: `${error.message || error.msg}` });\r\n        });\r\n    }\r\n\r\n    if (res) {\r\n      if (!mountRef.current) {\r\n        return;\r\n      }\r\n      onSuccess && onSuccess({ type: \"success\", message: `${title}成功` }, res);\r\n      setLoading(false);\r\n      if (updateQuery) {\r\n        res = updateQuery(data, res, params);\r\n      }\r\n      setData(res);\r\n    }\r\n  }\r\n\r\n  //更新缓存数据\r\n  function updateCache(fun) {\r\n    let res = fun({ ...data });\r\n    if (cacheRef.current) {\r\n      cache.set(cacheRef.current.key, res, cacheRef.current.policy);\r\n    }\r\n    if (mountRef.current) {\r\n      setData(res);\r\n    }\r\n  }\r\n  return { fetch, data, loading, error, setError, updateCache, setLoading };\r\n}\r\nexport function useQuery(ql, params, options = {}) {\r\n  let context = useBaseFetch(ql, options);\r\n  return {\r\n    ...context,\r\n    fetch: (newParams, newOptions) => {\r\n      context.fetch({ ...params, ...newParams }, { ...options, ...newOptions });\r\n    },\r\n  };\r\n}\r\n\r\nexport function useAutoQuery(ql, params = {}, options = {}) {\r\n  let context = useBaseFetch(ql, options);\r\n  let defaultData = options.defaultData;\r\n\r\n  let notDefault = useRef();\r\n  useEffect(() => {\r\n    //如果存在defaultData 则第一次不需要请求数据, notDefault是用来记录是否是第一次\r\n    let isFetch = notDefault.current || !defaultData || Object.keys(defaultData).length == 0;\r\n    notDefault.current = true;\r\n    if (isFetch) {\r\n      //是否等待\r\n      if (options.stop) {\r\n        //停止不需要加载效果\r\n      } else if (options.hold) {\r\n        //hold需要加载效果\r\n        context.setLoading(true);\r\n      } else {\r\n        context.fetch(params, options);\r\n      }\r\n    }\r\n  }, handleOption(params));\r\n\r\n  return {\r\n    ...context,\r\n    fetchMore: (newParams, newOptions, updateQuery) => {\r\n      context.fetch({ ...params, ...newParams }, { updateQuery, ...options, ...newOptions });\r\n    },\r\n    update: () => {\r\n      //更新时必须去服务器拉取数据\r\n      context.fetch(params, { ...options, isUpdate: true });\r\n    },\r\n  };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Box, Toast } from \"gestalt\";\r\nfunction ToastExample({ message = { type: \"\", message: \"\" }, time = 2000 }) {\r\n  let [showToast, setShowToast] = useState(false);\r\n  useEffect(() => {\r\n    if (message.message) {\r\n      setShowToast(true);\r\n      setTimeout(() => {\r\n        setShowToast(false);\r\n      }, time);\r\n    }\r\n  }, [message.message]);\r\n  return (\r\n    <Box\r\n      fit\r\n      dangerouslySetInlineStyle={{\r\n        __style: {\r\n          bottom: 50,\r\n          left: \"50%\",\r\n          transform: \"translateX(-50%)\",\r\n        },\r\n      }}\r\n      paddingX={1}\r\n      position=\"fixed\"\r\n    >\r\n      {showToast && <Toast text={message.message || \"\"} />}\r\n    </Box>\r\n  );\r\n}\r\nexport default ToastExample;\r\n","import React, { useEffect, useState, useContext, useRef, useCallback } from \"react\";\r\nfunction useDebounce(fn, delay, dep = []) {\r\n  const { current } = useRef({ fn, timer: null });\r\n  useEffect(\r\n    function () {\r\n      current.fn = fn;\r\n    },\r\n    [fn]\r\n  );\r\n\r\n  return useCallback(function f(...args) {\r\n    if (current.timer) {\r\n      clearTimeout(current.timer);\r\n    }\r\n    current.timer = setTimeout(() => {\r\n      current.fn.call(this, ...args);\r\n    }, delay);\r\n  }, dep);\r\n}\r\n\r\nexport default useDebounce;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Box, TextField, Heading, Flex, Button, Text, Spinner, Callout } from \"gestalt\";\r\nimport { getList, edit } from \"./api\";\r\nimport { useQuery, useAutoQuery } from \"../../uitls/query\";\r\nimport ShowMessage from \"../../components/ShowMessage\";\r\nimport axios from \"axios\";\r\nimport { baseUrl } from \"../../api\";\r\nimport { getImgSrc } from \"../../uitls/tools\";\r\nimport { WebCtx } from \"../../components/WebContext\";\r\nimport useDebounce from \"../../hooks/useDebounce\";\r\n\r\nfunction Item({ data, onChange }) {\r\n  if (data.type == \"Image\") {\r\n    return <ImageItem data={data} onChange={onChange} />;\r\n  } else {\r\n    return <StringItem data={data} onChange={onChange} type={data.type?.toLowerCase()} />;\r\n  }\r\n}\r\n\r\nfunction StringItem({ data, onChange, type = \"string\" }) {\r\n  let [value, setValue] = useState(data.value);\r\n  let { fetch, error, loading } = useQuery(edit);\r\n  //节流\r\n  let debounce = useDebounce((e) => {\r\n    fetch(\r\n      { ...data, value: e.value },\r\n      {\r\n        onSuccess: () => {\r\n          onChange();\r\n        },\r\n      }\r\n    );\r\n  }, 500);\r\n\r\n  return (\r\n    <Box display=\"flex\" wrap>\r\n      <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n        <TextField\r\n          name={data.name}\r\n          label={data.name}\r\n          id={data.name}\r\n          onChange={(e) => {\r\n            setValue(e.value);\r\n            debounce(e);\r\n          }}\r\n          value={value}\r\n          helperText={data.note}\r\n          type={type}\r\n        />\r\n        <Spinner show={loading} accessibilityLabel=\"Example spinner\" />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nfunction ImageItem({ data, onChange }) {\r\n  let [image, setImage] = useState(data.value);\r\n  let { fetch, error, loading } = useQuery(edit);\r\n\r\n  function uploadFile(file) {\r\n    let postData = new FormData();\r\n    postData.append(\"file\", file);\r\n    axios\r\n      .post(`${baseUrl}/file/uploadfile`, postData, {\r\n        onUploadProgress: (e) => {\r\n          let pre = Math.floor((e.loaded / e.total) * 100);\r\n        },\r\n      })\r\n      .then((res) => {\r\n        let url = res.data.data.url;\r\n        fetch(\r\n          {\r\n            ...data,\r\n            value: url,\r\n          },\r\n          {\r\n            onSuccess: (msg, res) => {\r\n              setImage(url);\r\n              onChange();\r\n            },\r\n          }\r\n        );\r\n      });\r\n  }\r\n  function uploadFiles(files) {\r\n    for (let item of files) {\r\n      uploadFile(item);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box display=\"flex\" wrap>\r\n      <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n        <Text size=\"sm\">{data.name}</Text>\r\n        <img src={getImgSrc(image)} height={50} width={50} alt={data.not} />\r\n        <input\r\n          type=\"file\"\r\n          onChange={(e) => {\r\n            uploadFiles(e.target.files);\r\n          }}\r\n        />\r\n        <Text size=\"sm\">{data.note}</Text>\r\n        <Spinner show={loading} size=\"sm\" accessibilityLabel=\"Example spinner\" />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nfunction Web(props) {\r\n  let [message, setMessage] = useState(\"\");\r\n  let { data, error, loading } = useAutoQuery(getList);\r\n  let webCtx = useContext(WebCtx);\r\n  return (\r\n    <Box padding={3}>\r\n      <Flex justifyContent=\"center\">\r\n        <Box direction=\"column\" display=\"flex\" maxWidth={1200} width=\"100%\" wrap>\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <Heading accessibilityLevel={2} size=\"md\">\r\n              网站设置\r\n            </Heading>\r\n          </Box>\r\n          <ShowMessage message={message} />\r\n          <Box paddingX={1} paddingY={1}>\r\n            {error && <Callout type=\"error\" iconAccessibilityLabel=\"Error icon\" message={error} />}\r\n          </Box>\r\n          {data.list?.map((item) => (\r\n            <Item\r\n              key={item.id}\r\n              data={item}\r\n              onChange={(e) => {\r\n                webCtx.update();\r\n              }}\r\n            />\r\n          ))}\r\n        </Box>\r\n      </Flex>\r\n    </Box>\r\n  );\r\n}\r\nexport default Web;\r\n","import React from \"react\";\r\nimport { Box, Column, Button, Divider } from \"gestalt\";\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport Transition from \"../../components/Transition\";\r\nimport Building from \"../Building\";\r\nimport Web from \"./Web\";\r\n\r\nfunction System(props) {\r\n  return (\r\n    <Box display=\"flex\" direction=\"row\" paddingY={2}>\r\n      <Column span={2}>\r\n        <Box color=\"lightGray\" padding={1}>\r\n          <Box color=\"white\" paddingY={2}>\r\n            <Link to=\"/system/\">\r\n              <Button text=\"网站设置\" color=\"transparent\" />\r\n            </Link>\r\n            <Divider />\r\n            <Link to=\"/system/config\">\r\n              <Button text=\"环境变量\" color=\"transparent\" />\r\n            </Link>\r\n          </Box>\r\n        </Box>\r\n      </Column>\r\n      <Column span={10}>\r\n        <Box color=\"lightGray\" padding={1}>\r\n          <Box color=\"white\" paddingY={2} overflow=\"hidden\" minHeight={800}>\r\n            <Switch>\r\n              <Route exact path=\"/system/\" component={Web} />\r\n              <Route path=\"/system/config\" component={Building} />\r\n            </Switch>\r\n          </Box>\r\n        </Box>\r\n      </Column>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default System;\r\n","import axios from \"../../uitls/http\";\r\nimport { baseUrl } from \"../../api\";\r\n\r\nexport async function getShop(params) {\r\n  let { data } = await axios.get(baseUrl + \"/shop/shop/\" + params.id);\r\n  let res = data.data;\r\n  if (res.attr.length == 0) {\r\n    res.attr = [{}];\r\n  }\r\n  return res;\r\n}\r\nexport async function addShop(params) {\r\n  let { data } = await axios.post(baseUrl + \"/shop/add\", { ...params });\r\n  return data.data;\r\n}\r\n\r\nexport async function editShop(params) {\r\n  let { data } = await axios.post(baseUrl + \"/shop/edit\", { ...params });\r\n  return data.data;\r\n}\r\nexport async function delShop(params) {\r\n  let { data } = await axios.post(baseUrl + \"/shop/status\", { id: params.id, status: 1 });\r\n  return data.data;\r\n}\r\n\r\nexport async function reShop(params) {\r\n  let { data } = await axios.post(baseUrl + \"/shop/status\", { id: params.id, status: 0 });\r\n  return data.data;\r\n}\r\n\r\nexport async function shops(params) {\r\n  let { data } = await axios.get(baseUrl + \"/shop/list\", { params });\r\n  return data.data;\r\n}\r\n\r\nexport async function attrEdit(params) {\r\n  let { data } = await axios.post(baseUrl + \"/shop/attr/edit\", { ...params });\r\n  return data.data;\r\n}\r\n","import React from \"react\";\r\nimport { Box, ButtonGroup, Button, IconButton, Text } from \"gestalt\";\r\n\r\nfunction Header({ history, page, onChange, total_page = 0 }) {\r\n  let list = Array.from(Array(total_page + 1), (v, k) => k);\r\n  if (total_page == 0) {\r\n    return <></>;\r\n  }\r\n  return (\r\n    <Box>\r\n      <Box display=\"flex\" justifyContent=\"center\">\r\n        <ButtonGroup>\r\n          <IconButton\r\n            icon=\"arrow-back\"\r\n            size=\"sm\"\r\n            color=\"transparent\"\r\n            disabled={page == 0}\r\n            onClick={(e) => {\r\n              onChange({ page: page - 1 });\r\n            }}\r\n          />\r\n          {list.map((index) => (\r\n            <Button\r\n              key={index}\r\n              text={index + 1}\r\n              size=\"sm\"\r\n              color={page == index ? \"red\" : \"transparent\"}\r\n              onClick={(e) => {\r\n                onChange({ page: index });\r\n              }}\r\n            />\r\n          ))}\r\n\r\n          <IconButton\r\n            icon=\"arrow-forward\"\r\n            size=\"sm\"\r\n            color=\"transparent\"\r\n            disabled={page == total_page}\r\n            onClick={(e) => {\r\n              onChange({ page: page + 1 });\r\n            }}\r\n          />\r\n        </ButtonGroup>\r\n        {/* <Text>Total:{total_page}</Text> */}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { Flyout, Box, Text, Button, Layer, IconButton } from \"gestalt\";\r\nimport styled from \"styled-components\";\r\nimport { useQuery } from \"../../../uitls/query\";\r\nimport { attrEdit } from \"../api\";\r\nconst NumInput = styled.input`\r\n  border: none;\r\n  background: none;\r\n  width: 80px;\r\n  color: var(--g-colorRed100);\r\n  margin: 0 10px;\r\n`;\r\n\r\nconst ItemBox = styled.div`\r\n  display: flex;\r\n  border-bottom: 1px solid var(--g-colorGray150);\r\n`;\r\n\r\nfunction useWatch(callback, params) {\r\n  let isReady = useRef();\r\n  useEffect(() => {\r\n    if (isReady.current) {\r\n      return callback(arguments);\r\n    }\r\n    isReady.current = true;\r\n  }, params);\r\n}\r\nfunction Item({ data, onChange }) {\r\n  let [value, setValue] = useState(+data.value);\r\n  let { fetch, loading } = useQuery(attrEdit);\r\n\r\n  function setNum(value) {\r\n    let item = { ...data, value };\r\n    fetch(item, {\r\n      onSuccess: () => {\r\n        setValue(value);\r\n        onChange && onChange(item);\r\n      },\r\n    });\r\n  }\r\n  return (\r\n    <ItemBox>\r\n      <Text align=\"left\">{data.name}</Text>\r\n      <NumInput\r\n        value={value}\r\n        onChange={(e) => {\r\n          setNum(+e.target.value);\r\n        }}\r\n        type=\"number\"\r\n      />\r\n      <IconButton\r\n        disabled={loading}\r\n        color=\"red\"\r\n        icon=\"add\"\r\n        size=\"xs\"\r\n        onClick={(e) => {\r\n          setNum(value + 1);\r\n        }}\r\n      />\r\n      <IconButton\r\n        disabled={loading}\r\n        color=\"red\"\r\n        icon=\"dash\"\r\n        size=\"xs\"\r\n        onClick={(e) => {\r\n          setNum(value - 1);\r\n        }}\r\n      />\r\n    </ItemBox>\r\n  );\r\n}\r\n\r\nfunction ListEdit({ num, data, onChange }) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const anchorRef = React.useRef();\r\n  return (\r\n    <Box>\r\n      <Box display=\"inlineBlock\" ref={anchorRef}>\r\n        <Button accessibilityExpanded={!!open} accessibilityHaspopup onClick={() => setOpen(!open)} text={num} />\r\n      </Box>\r\n      {open && (\r\n        <Layer>\r\n          <Flyout anchor={anchorRef.current} idealDirection=\"down\" onDismiss={() => setOpen(false)} positionRelativeToAnchor={false} size=\"xl\">\r\n            <Box padding={3}>\r\n              {data?.map((item, key) => (\r\n                <Item\r\n                  data={item}\r\n                  key={item.id}\r\n                  onChange={(res) => {\r\n                    onChange && onChange(res, key);\r\n                  }}\r\n                />\r\n              ))}\r\n            </Box>\r\n          </Flyout>\r\n        </Layer>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\nexport default ListEdit;\r\n","import React, { useState } from \"react\";\r\nimport { useAutoQuery, useQuery } from \"../../uitls/query\";\r\nimport { shops, delShop } from \"./api\";\r\nimport { Table, Text, Image, Mask, Box, IconButton, SearchField, Spinner } from \"gestalt\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getImgSrc, getThumbSrc } from \"../../uitls/tools\";\r\nimport Page from \"../../components/Page\";\r\nimport ListEdit from \"./components/ListEdit\";\r\nlet pDatas = {};\r\nfunction List(props) {\r\n  let key = props.location.pathname;\r\n\r\n  let params = new URLSearchParams(props.location.search);\r\n\r\n  let [keyword, setKeyword] = useState(\"\");\r\n  let { data, update, loading, fetchMore, updateCache } = useAutoQuery(\r\n    shops,\r\n    { status: params.get(\"status\") || 0, keyword },\r\n    { defaultData: props.history.action == \"POP\" && pDatas[key] }\r\n  );\r\n  let { fetch: delFetch } = useQuery(delShop, {}, { onSuccess: () => update() });\r\n\r\n  pDatas[key] = data;\r\n  let { list, page, total_page, page_size } = data;\r\n  return (\r\n    <Box>\r\n      <Box padding={2}>\r\n        <Box width={250} marginStart=\"auto\">\r\n          <SearchField accessibilityLabel=\"搜索\" id=\"searchField\" onChange={({ value }) => setKeyword(value)} placeholder=\"搜索\" value={keyword} />\r\n        </Box>\r\n      </Box>\r\n\r\n      <Table>\r\n        <Table.Header sticky>\r\n          <Table.Row>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">图片</Text>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">商品名</Text>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">价格</Text>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">代理商品名</Text>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">代理价格</Text>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">库存</Text>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">编辑</Text>\r\n            </Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {list?.map((item, key) => (\r\n            <Table.Row key={item.id}>\r\n              <Table.Cell>\r\n                <Box display=\"flex\" alignItems=\"center\">\r\n                  <Box width={80}>\r\n                    {item.photo && (\r\n                      <Mask rounding={2} wash>\r\n                        <Image alt=\"Luna\" src={getThumbSrc(item.photo[0]?.url, \"xs\")} naturalHeight={50} naturalWidth={50} />\r\n                      </Mask>\r\n                    )}\r\n                  </Box>\r\n                  <Box paddingX={1}>\r\n                    <Text>+{item.photo.length}</Text>\r\n                  </Box>\r\n                </Box>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text>{item.name}</Text>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text>{item.price}</Text>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text>{item.proxy_name}</Text>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text>{item.proxy_price}</Text>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <ListEdit\r\n                  num={item.attr_num}\r\n                  data={item.attr}\r\n                  onChange={(item, attrKay) => {\r\n                    updateCache((data) => {\r\n                      data.list[key].attr[attrKay] = item;\r\n                      let total = data.list[key].attr.reduce((total, item) => {\r\n                        return Number(total) + Number(item.value);\r\n                      }, 0);\r\n                      data.list[key].attr_num = total.toString();\r\n                      return data;\r\n                    });\r\n                  }}\r\n                />\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Box display=\"flex\">\r\n                  <Link to={`/shop/edit/${item.id}`}>\r\n                    <IconButton icon=\"edit\" />\r\n                  </Link>\r\n                  {item.status === 0 && (\r\n                    <IconButton\r\n                      icon=\"cancel\"\r\n                      onClick={(e) => {\r\n                        delFetch({ id: item.id });\r\n                      }}\r\n                    />\r\n                  )}\r\n                </Box>\r\n              </Table.Cell>\r\n            </Table.Row>\r\n          ))}\r\n        </Table.Body>\r\n      </Table>\r\n      <Spinner show={loading} accessibilityLabel=\"加载中\" size=\"sm\" />\r\n      <Page page={page} page_size={page_size} total_page={total_page} onChange={fetchMore} />\r\n    </Box>\r\n  );\r\n}\r\nexport default List;\r\n","import React, { forwardRef, useState } from \"react\";\r\n\r\nconst FormItem = forwardRef(function ({ defaultValue, onChange, com, ...other }, ref) {\r\n  let [value, setValue] = useState(defaultValue);\r\n  const Com = com;\r\n  return (\r\n    <Com\r\n      {...other}\r\n      id={other.name}\r\n      onChange={(e) => {\r\n        setValue(e.value);\r\n        onChange && onChange(e);\r\n      }}\r\n      value={value}\r\n      ref={ref}\r\n    />\r\n  );\r\n});\r\n\r\nexport default FormItem;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { baseUrl } from \"../api\";\r\nimport { getThumbSrc } from \"../uitls/tools\";\r\nimport { Button, Box, IconButton, Text } from \"gestalt\";\r\nimport syled from \"styled-components\";\r\nimport { useForm, useFieldArray } from \"react-hook-form\";\r\n\r\nconst ImageBox = syled.div`\r\n  width:200px;\r\n  img{\r\n    width:100%;\r\n  }\r\n`;\r\n\r\nfunction FilesShow({ uploads, remove }) {\r\n  return (\r\n    <>\r\n      {Object.values(uploads).map((item) => (\r\n        <Box display=\"flex\" key={item.url}>\r\n          <Box paddingY={3}>\r\n            {item.pre}%-{item.url}\r\n          </Box>{\" \"}\r\n          {item.pre == 100 && <IconButton accessibilityLabel=\"clear\" icon=\"clear\" onClick={(e) => remove(item)} />}\r\n        </Box>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ImagesShow({ uploads, remove }) {\r\n  return (\r\n    <Box display=\"flex\" marginBottom={2} wrap>\r\n      {Object.values(uploads).map((item) => (\r\n        <Box position=\"relative\" color=\"lightGray\" margin={1} key={item.url}>\r\n          <ImageBox>\r\n            <img src={`${baseUrl}${item.url}`} />\r\n            <Box position=\"absolute\" color=\"white\" bottom={true}>\r\n              <Text size=\"sm\">\r\n                {item.pre}%-{item.url}\r\n              </Text>\r\n            </Box>\r\n          </ImageBox>\r\n          <Box position=\"absolute\" top={true} right={true}>\r\n            {item.pre == 100 && <IconButton accessibilityLabel=\"clear\" iconColor=\"white\" icon=\"clear\" onClick={(e) => remove(item)} />}\r\n          </Box>\r\n        </Box>\r\n      ))}\r\n    </Box>\r\n  );\r\n}\r\n\r\nfunction FileUpload({ name, formCtx, label, type = \"image\" }) {\r\n  const { control, register } = formCtx;\r\n  const { fields, append, prepend, remove, swap, move, insert } = useFieldArray({\r\n    control,\r\n    name: name,\r\n  });\r\n  let fileRef = useRef();\r\n  useEffect(() => {\r\n    if (fields) {\r\n      let newUploads = [];\r\n      fields.map((field) => {\r\n        newUploads.push({ url: field.url, pre: 100 });\r\n      });\r\n    }\r\n  }, [fields]);\r\n  function uploadFile(file) {\r\n    let data = new FormData();\r\n    data.append(\"file\", file);\r\n    axios\r\n      .post(`${baseUrl}/file/uploadfile`, data, {\r\n        onUploadProgress: (e) => {\r\n          let pre = Math.floor((e.loaded / e.total) * 100);\r\n        },\r\n      })\r\n      .then(({ data }) => {\r\n        append(data.data);\r\n      });\r\n  }\r\n  function uploadFiles(files) {\r\n    console.log(files);\r\n    for (let item of files) {\r\n      uploadFile(item);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {fields.map((field, index) => {\r\n        return (\r\n          <div key={field.id} style={{ display: \"none\" }}>\r\n            <input name={`${name}[${index}].url`} defaultValue={field.url} ref={register()} />\r\n          </div>\r\n        );\r\n      })}\r\n      <Box display=\"flex\" marginBottom={2} wrap>\r\n        {fields.map((field, index) => {\r\n          return (\r\n            <Box position=\"relative\" color=\"lightGray\" margin={1} key={field.url}>\r\n              <ImageBox>\r\n                <img src={getThumbSrc(field.url)} />\r\n                <Box position=\"absolute\" color=\"white\" bottom={true}>\r\n                  <Text size=\"sm\">{field.url}</Text>\r\n                </Box>\r\n              </ImageBox>\r\n              <Box position=\"absolute\" top={true} right={true}>\r\n                <IconButton accessibilityLabel=\"clear\" iconColor=\"darkGray\" icon=\"clear\" onClick={(e) => remove(index)} />\r\n              </Box>\r\n            </Box>\r\n          );\r\n        })}\r\n      </Box>\r\n      <Button\r\n        text={label || \"上传文件\"}\r\n        onClick={(e) => {\r\n          fileRef.current.click();\r\n        }}\r\n        inline\r\n      />\r\n      <input\r\n        type=\"file\"\r\n        multiple\r\n        ref={fileRef}\r\n        style={{ display: \"none\" }}\r\n        onChange={(e) => {\r\n          uploadFiles(e.target.files);\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FileUpload;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, TextField, IconButton, Text } from \"gestalt\";\r\nimport FormItem from \"./FormItem\";\r\nimport { useFieldArray } from \"react-hook-form\";\r\nimport ToastExample from \"./ShowMessage\";\r\n\r\nfunction FormAttr({ name, formCtx: { control, register } }) {\r\n  const { fields, append, prepend, remove, swap, move, insert } = useFieldArray({\r\n    control,\r\n    name: name,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (fields.length == 0) {\r\n      append({});\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {fields.map(\r\n        (field, index) =>\r\n          field && (\r\n            <Box display=\"flex\" wrap key={field.id}>\r\n              <Box column={3} paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name={`${name}[${index}].name`} defaultValue={field.name} label=\"名称\" ref={register()} />\r\n              </Box>\r\n              <Box column={2} paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name={`${name}[${index}].value`} defaultValue={field.value} label=\"值\" type=\"number\" ref={register()} />\r\n              </Box>\r\n              <Box marginTop={9}>\r\n                <IconButton\r\n                  accessibilityLabel=\"clear\"\r\n                  icon=\"cancel\"\r\n                  onClick={(e) => {\r\n                    remove(index);\r\n                  }}\r\n                />\r\n              </Box>\r\n              <Box marginTop={9}>\r\n                <IconButton\r\n                  accessibilityLabel=\"添加\"\r\n                  icon=\"add\"\r\n                  onClick={(e) => {\r\n                    if (index == fields.length - 1) {\r\n                      append({});\r\n                    } else {\r\n                      insert(index + 1, {});\r\n                    }\r\n                  }}\r\n                />\r\n              </Box>\r\n            </Box>\r\n          )\r\n      )}\r\n      {/* <Box marginStart={12}>\r\n        <Text>合计:{total + \"\"}</Text>\r\n      </Box> */}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FormAttr;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, TextField, Heading, Flex, Button, Callout } from \"gestalt\";\r\nimport FormItem from \"../../components/FormItem\";\r\nimport FileUpload from \"../../components/FileUpload\";\r\nimport { useForm, useFieldArray } from \"react-hook-form\";\r\nimport { addShop, editShop, getShop, reShop } from \"./api\";\r\nimport { useQuery, useAutoQuery } from \"../../uitls/query\";\r\nimport FormAttr from \"../../components/FormAttr\";\r\nimport ShowMessage from \"../../components/ShowMessage\";\r\n//import Edit from \"../../components/Edit\";\r\n\r\nfunction Add(props) {\r\n  let [message, setMessage] = useState(\"\");\r\n  let { id } = props.match.params;\r\n  let isEdit = typeof id !== \"undefined\";\r\n  const { control, register, reset, handleSubmit, watch } = useForm();\r\n  let formCtx = {\r\n    control,\r\n    register,\r\n    reset,\r\n    handleSubmit,\r\n    watch,\r\n  };\r\n  let { fetch, error } = useQuery(isEdit ? editShop : addShop, null, {\r\n    onSuccess: (msg, data) => {\r\n      setMessage(msg);\r\n      props.history.replace(\"/shop\");\r\n    },\r\n  });\r\n  let { fetch: reShopFetch } = useQuery(reShop, { id: id }, { onSuccess: setMessage });\r\n\r\n  let { data } = useAutoQuery(getShop, { id: id }, { stop: !id, onSuccess: (msg, res) => reset(res) });\r\n\r\n  const onSubmit = (data) => fetch(isEdit ? { id, ...data } : data);\r\n  return (\r\n    <Box padding={3}>\r\n      <Flex justifyContent=\"center\">\r\n        <Box direction=\"column\" display=\"flex\" maxWidth={1200} width=\"100%\" wrap>\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <Heading accessibilityLevel={2} size=\"md\">\r\n              添加商品\r\n            </Heading>\r\n          </Box>\r\n          <ShowMessage message={message} />\r\n          <Box paddingX={1} paddingY={1}>\r\n            {error && <Callout type=\"error\" iconAccessibilityLabel=\"Error icon\" message={error} />}\r\n          </Box>\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <Box display=\"flex\" wrap>\r\n              <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name=\"brand\" label=\"品牌\" ref={register()} />\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box display=\"flex\" wrap>\r\n              <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name=\"name\" label=\"名字\" ref={register()} />\r\n              </Box>\r\n              <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name=\"proxy_name\" label=\"代理名字\" ref={register()} />\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box display=\"flex\" wrap>\r\n              <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name=\"price\" label=\"价格\" type=\"number\" ref={register()} />\r\n              </Box>\r\n              <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name=\"proxy_price\" label=\"代理价格\" type=\"number\" ref={register()} />\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n              <FileUpload name=\"photo\" label=\"上传封面\" formCtx={formCtx} />\r\n            </Box>\r\n\r\n            <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n              <Heading accessibilityLevel={2} size=\"sm\">\r\n                附加属性\r\n              </Heading>\r\n            </Box>\r\n\r\n            <FormAttr name=\"attr\" formCtx={formCtx} />\r\n\r\n            <Box display=\"flex\" justifyContent=\"end\" paddingX={3} paddingY={3} marginTop={2}>\r\n              <Box margin={1}>\r\n                <Button text=\"返回\" inline onClick={(e) => props.history.goBack()} />\r\n              </Box>\r\n              {data.status == 1 && (\r\n                <Box margin={1}>\r\n                  <Button text=\"从回收站恢复\" inline onClick={(e) => reShopFetch()} />\r\n                </Box>\r\n              )}\r\n              <Box margin={1}>\r\n                <Button text=\"保存商品\" color=\"red\" inline type=\"submit\" />\r\n              </Box>\r\n            </Box>\r\n          </form>\r\n        </Box>\r\n      </Flex>\r\n    </Box>\r\n  );\r\n}\r\nexport default Add;\r\n","import React from \"react\";\r\nimport { Box, Column, Button, Divider } from \"gestalt\";\r\nimport { Switch, Route, NavLink } from \"react-router-dom\";\r\nimport Transition from \"../../components/Transition\";\r\nimport List from \"./List\";\r\nimport Add from \"./Add\";\r\nfunction Shop(props) {\r\n  return (\r\n    <Box display=\"flex\" direction=\"row\" paddingY={2}>\r\n      <Column span={2}>\r\n        <Box color=\"lightGray\" padding={1}>\r\n          <Box color=\"white\" paddingY={2}>\r\n            <NavLink exact activeClassName=\"selected\" to=\"/shop\">\r\n              <Button text=\"商品列表\" color=\"transparent\" />\r\n            </NavLink>\r\n            <Divider />\r\n            <NavLink activeClassName=\"selected\" to=\"/shop/add\">\r\n              <Button text=\"添加商品\" color=\"transparent\" />\r\n            </NavLink>\r\n            <Divider />\r\n            <NavLink activeClassName=\"selected\" to=\"/shop/recovery?status=1\">\r\n              <Button text=\"回收站\" color=\"transparent\" />\r\n            </NavLink>\r\n          </Box>\r\n        </Box>\r\n      </Column>\r\n      <Column span={10}>\r\n        <Box color=\"lightGray\" padding={1}>\r\n          <Box color=\"white\" paddingY={2} minHeight={900}>\r\n            <Switch>\r\n              <Route path=\"/shop/add\" component={Add} />\r\n              <Route path=\"/shop/edit/:id\" component={Add} />\r\n              <Route path=\"/shop/recovery\" component={List} />\r\n              <Route path=\"/shop\" component={List} />\r\n            </Switch>\r\n          </Box>\r\n        </Box>\r\n      </Column>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Shop;\r\n","import { Box, Heading } from \"gestalt\";\r\nfunction Home() {\r\n  return (\r\n    <Box padding={12}>\r\n      <Heading align=\"center\">主页正在开发中!</Heading>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useEffect } from \"react\";\r\nimport { useAutoQuery } from \"../uitls/query\";\r\nimport { userInfo } from \"../api\";\r\n\r\nfunction useUserInfo(push) {\r\n  let { data, update, error, loading } = useAutoQuery(userInfo, null, {\r\n    onError(msg, e) {\r\n      push(\"/signin\");\r\n    },\r\n    onSuccess(msg, data) {\r\n      if (data.role !== \"admin\") {\r\n        push(\"/signin\");\r\n      }\r\n    },\r\n  });\r\n\r\n  return { data, update, error, loading };\r\n}\r\n\r\nexport default useUserInfo;\r\n","import React from \"react\";\r\nexport const UserContext = React.createContext(null);\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Box, Spinner } from \"gestalt\";\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport Header from \"../components/Header\";\r\nimport System from \"../page/system/System\";\r\nimport Shop from \"../page/shop/Shop\";\r\nimport Home from \"../page/Home\";\r\nimport useUserInfo from \"../hooks/useUserInfo\";\r\nimport { UserContext } from \"../components/UserContext\";\r\nimport { getWebConfig } from \"../api\";\r\nimport { useAutoQuery } from \"../uitls/query\";\r\nimport { WebCtx } from \"../components/WebContext\";\r\n\r\nfunction IndexPage(props) {\r\n  let { data, update, loading } = useAutoQuery(getWebConfig, {}, { cachePolicy: \"local\" });\r\n  let { data: userData, update: userUpdate } = useUserInfo(props.history.push);\r\n  if (!userData.id) {\r\n    return (\r\n      <Box paddingY={12}>\r\n        <Spinner show={true} accessibilityLabel=\"获取用户数据\" />\r\n      </Box>\r\n    );\r\n  }\r\n  return (\r\n    <WebCtx.Provider value={{ ...data, update }}>\r\n      <UserContext.Provider value={{ ...userData, update: userUpdate }}>\r\n        <Header {...props} />\r\n        <Switch location={props.location}>\r\n          <Route path=\"/system\" component={System} />\r\n          <Route path=\"/shop\" component={Shop} />\r\n          <Route path=\"/\" component={Home} />\r\n        </Switch>\r\n      </UserContext.Provider>\r\n    </WebCtx.Provider>\r\n  );\r\n}\r\n\r\nexport default IndexPage;\r\n","import React from \"react\";\r\nimport { Box, Heading, TextField, Callout, Button, Spinner } from \"gestalt\";\r\nimport { useQuery } from \"../uitls/query\";\r\nimport { signin } from \"../api\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport FormItem from \"../components/FormItem\";\r\n\r\nfunction Signin({ history }) {\r\n  let { fetch, error, loading } = useQuery(signin, null, {\r\n    onSuccess: () => {\r\n      history.push(\"/shop\");\r\n    },\r\n  });\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const onSubmit = (data) => {\r\n    fetch(data);\r\n  };\r\n\r\n  return (\r\n    <Box display=\"flex\" justifyContent=\"center\" height=\"100%\">\r\n      <Box borderStyle=\"sm\" display=\"flex\" margin=\"auto\" marginTop=\"auto\" wrap width=\"100%\" direction=\"column\" maxWidth={800}>\r\n        <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n          <Heading size=\"sm\" accessibilityLevel={2}>\r\n            登录后台管理系统\r\n          </Heading>\r\n        </Box>\r\n        <Box paddingX={1} paddingY={1}>\r\n          {error && <Callout type=\"error\" iconAccessibilityLabel=\"Error icon\" message={error} />}\r\n        </Box>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <FormItem com={TextField} name=\"name\" label=\"账号\" placeholder=\"请输入账号\" ref={register} />\r\n          </Box>\r\n\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <FormItem com={TextField} name=\"password\" label=\"密码\" type=\"password\" placeholder=\"请输入密码\" ref={register} />\r\n          </Box>\r\n\r\n          <Spinner show={loading} accessibilityLabel=\"登录中\" size=\"sm\" />\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <Box justifyContent=\"end\" marginStart={-1} marginEnd={-1} marginTop={-1} marginBottom={-1} display=\"flex\" wrap>\r\n              <Box paddingX={1} paddingY={1}>\r\n                <Button text=\"登录\" color=\"red\" size=\"lg\" type=\"submit\" />\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n        </form>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\nexport default Signin;\r\n","import Frame from \"./Frame\";\nimport Signin from \"../page/Signin\";\nimport { Route, Switch } from \"react-router-dom\";\n\nfunction Root(props) {\n  return (\n    <Switch>\n      <Route path=\"/signin\" component={Signin} />\n      <Route path=\"/\" component={Frame} />\n    </Switch>\n  );\n}\n\nexport default Root;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Root from \"./frame/Root\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./style/public.css\";\n//import \"./style/theme.css\";\nimport \"gestalt/dist/gestalt.css\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Root />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}