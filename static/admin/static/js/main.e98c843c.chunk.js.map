{"version":3,"sources":["uitls/http.js","api.js","components/Header.js","uitls/tools.js","components/Transition.js","page/Building.js","page/system/System.js","uitls/query.js","page/shop/api.js","components/Page.js","page/shop/List.js","components/FormItem.js","components/FileUpload.js","components/ShowMessage.js","components/FormAttr.js","page/shop/Add.js","page/shop/Shop.js","page/Home.js","hooks/useUserInfo.js","components/UserContext.js","frame/Frame.js","page/Signin.js","frame/Root.js","reportWebVitals.js","index.js"],"names":["instance","axios","create","timeout","withCredentials","interceptors","response","use","data","status","console","log","message","Error","baseUrl","signin","params","a","post","userInfo","get","Header","history","React","useState","color","rounding","padding","display","alignItems","icon","size","accessibilityLabel","exact","activeClassName","to","text","flex","paddingX","onClick","e","date","Date","setTime","getTime","keys","document","cookie","match","i","length","toGMTString","clearAllCookie","push","styles","entering","position","opacity","transform","entered","transition","exiting","pPathName","Transition","children","location","action","pathname","style","Home","align","System","props","direction","paddingY","span","overflow","path","component","Building","handleOption","opt","newList","work","Array","isArray","forEach","Object","values","useBaseFetch","ql","defaultData","setData","loading","setLoading","error","setError","stateRef","useRef","useEffect","current","fetch","onError","onSuccess","updateQuery","title","then","res","type","catch","msg","updateCache","fun","useQuery","options","context","newParams","newOptions","useAutoQuery","stop","hold","fetchMore","update","getShop","id","attr","addShop","editShop","delShop","reShop","shops","page","onChange","total_page","list","from","v","k","justifyContent","disabled","map","index","pData","List","URLSearchParams","search","keyword","setKeyword","delFetch","page_size","width","marginStart","value","placeholder","sticky","Row","HeaderCell","weight","Body","item","src","Cell","photo","wash","alt","url","startsWith","naturalHeight","naturalWidth","name","price","proxy_name","proxy_price","show","Page","FormItem","forwardRef","ref","defaultValue","com","other","setValue","Com","ImageBox","syled","div","FilesShow","uploads","remove","pre","ImagesShow","marginBottom","wrap","margin","bottom","top","right","iconColor","FileUpload","formCtx","label","control","register","useFieldArray","fields","append","prepend","fileRef","swap","move","insert","setUploads","setFileStatus","obj","fileid","updateFile","file","FormData","fileId","lastModified","onUploadProgress","Math","floor","loaded","total","removeFile","findIndex","findItem","newUploads","field","click","inline","multiple","files","updateFiles","target","ToastExample","time","showToast","setShowToast","setTimeout","fit","dangerouslySetInlineStyle","__style","left","FormAttr","column","TextField","marginTop","Add","setMessage","isEdit","useForm","reset","handleSubmit","watch","reShopFetch","maxWidth","accessibilityLevel","ShowMessage","iconAccessibilityLabel","onSubmit","goBack","Shop","useUserInfo","role","UserContext","createContext","IndexPage","userData","Provider","Signin","errors","height","borderStyle","marginEnd","Root","Frame","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e98c843c.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n// 创建axios实例\r\nconst instance = axios.create({\r\n  //baseURL: process.env.BASE_API, // node环境的不同，对应不同的baseURL\r\n  timeout: 12000, // 请求的超时时间\r\n  withCredentials: true,\r\n});\r\n\r\ninstance.interceptors.response.use((response) => {\r\n  if (response.data.status !== 0) {\r\n    console.log(\"错误\", response.data.message);\r\n    throw new Error(response.data.message);\r\n  }\r\n  return response;\r\n});\r\n\r\nexport default instance;\r\n","import axios from \"./uitls/http\";\r\nexport const baseUrl = process.env.NODE_ENV == \"development\" ? \"http://localhost:3001\" : \"\";\r\n//登录\r\nexport async function signin(params) {\r\n  let { data } = await axios.post(baseUrl + \"/user/signin\", { ...params });\r\n  return data.data;\r\n}\r\n\r\n//获取用户消息\r\nexport async function userInfo(params) {\r\n  let { data } = await axios.get(baseUrl + \"/user/info\", { ...params });\r\n  return data.data;\r\n}\r\n","import React from \"react\";\r\nimport { Box, Icon, ButtonGroup, Button, IconButton, Divider, Heading, SearchField } from \"gestalt\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { clearAllCookie } from \"../uitls/tools\";\r\nfunction Header({ history }) {\r\n  const [value, setValue] = React.useState(\"\");\r\n  return (\r\n    <Box color=\"white\" rounding={2} padding={3} display=\"flex\" alignItems=\"center\">\r\n      <Box padding={3}>\r\n        <Icon icon=\"pinterest\" color=\"red\" size={20} accessibilityLabel=\"Pinterest\" />\r\n        {/* <Heading color=\"red\" size=\"sm\">\r\n          后台管理系统\r\n        </Heading> */}\r\n      </Box>\r\n      <Box padding={2}>\r\n        <ButtonGroup>\r\n          <NavLink exact activeClassName=\"selected\" to=\"/\">\r\n            <Button text=\"主页\" color=\"transparent\" />\r\n          </NavLink>\r\n          <Divider />\r\n          <NavLink activeClassName=\"selected\" to=\"/shop\">\r\n            <Button text=\"商品\" color=\"transparent\" />\r\n          </NavLink>\r\n          <NavLink activeClassName=\"selected\" to=\"/system\">\r\n            <Button text=\"系统\" color=\"transparent\" />\r\n          </NavLink>\r\n        </ButtonGroup>\r\n      </Box>\r\n      <Box flex=\"grow\" paddingX={2}>\r\n        {/* <SearchField accessibilityLabel=\"Demo Search Field\" id=\"searchField\" onChange={({ value }) => setValue(value)} placeholder=\"Search and explore\" value={value} /> */}\r\n      </Box>\r\n      {/* <Box paddingX={2}>\r\n        <IconButton accessibilityLabel=\"Notifications\" icon=\"speech-ellipsis\" size=\"md\" />\r\n      </Box> */}\r\n      <Box paddingX={2}>\r\n        <IconButton\r\n          accessibilityLabel=\"退出\"\r\n          icon=\"logout\"\r\n          size=\"md\"\r\n          onClick={(e) => {\r\n            clearAllCookie();\r\n            history.push(\"/signin\");\r\n          }}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { useState, useEffect } from \"react\";\r\nimport { baseUrl } from \"../api\";\r\n//解析url请求参数\r\nexport function parseQuery(query) {\r\n  var reg = /([^=&\\s]+)[=\\s]*([^&\\s]*)/g;\r\n  var obj = {};\r\n  while (reg.exec(query)) {\r\n    obj[RegExp.$1] = RegExp.$2;\r\n  }\r\n  return obj;\r\n}\r\n\r\nexport function getVideoData() {\r\n  let sourceList = JSON.parse(localStorage.getItem(\"sourceList\"));\r\n  let queryData = parseQuery(window.location.search.slice(1));\r\n  return sourceList.find((item) => item.id == queryData.id);\r\n}\r\n\r\nexport function useVideo() {\r\n  let [data, setData] = useState({});\r\n  useEffect(() => {\r\n    setData(getVideoData());\r\n  }, []);\r\n  return data;\r\n}\r\n\r\nexport function getImgSrc(src) {\r\n  return src && src.startsWith(\"http\") ? src : `${baseUrl}${src}`;\r\n}\r\nexport function getThumbSrc(src, size = \"sm\") {\r\n  return src && src.startsWith(\"http\") ? src : `${baseUrl}/file/thumb?img=${src}&size=${size}`;\r\n}\r\n\r\nexport function clearAllCookie() {\r\n  var date = new Date();\r\n  date.setTime(date.getTime() - 10000);\r\n  var keys = document.cookie.match(/[^ =;]+(?=\\=)/g);\r\n  console.log(\"需要删除的cookie名字：\" + keys);\r\n  if (keys) {\r\n    for (var i = keys.length; i--; ) document.cookie = keys[i] + \"=0; expire=\" + date.toGMTString() + \"; path=/\";\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { TransitionGroup, Transition as ReactTransition } from \"react-transition-group\";\r\n\r\n// The duration for each phase of the transition\r\n// So the total duration will be _twice_ this\r\nconst timeout = 200;\r\n\r\nconst styles = {\r\n  entering: {\r\n    position: \"absolute\",\r\n    opacity: 0,\r\n    transform: \"scale(1.1,1.1)\",\r\n  },\r\n  entered: {\r\n    transition: `opacity ${timeout}ms ease-in-out,transform ${timeout}ms ease-in-out`,\r\n    opacity: 1,\r\n    transform: \"scale(1,1)\",\r\n  },\r\n  exiting: {\r\n    transition: `opacity ${timeout}ms ease-in-out,transform ${timeout}ms ease-in-out`,\r\n    opacity: 0,\r\n    transform: \"scale(0.9,0.9)\",\r\n  },\r\n};\r\nlet pPathName = \"\";\r\nconst Transition = ({ children, history, location }) => {\r\n  //记录上次动画的key，如果页面非替换则播放动画\r\n  if (history.action != \"REPLACE\") {\r\n    pPathName = location.pathname;\r\n  }\r\n  return (\r\n    <TransitionGroup>\r\n      <ReactTransition key={history.action == \"REPLACE\" ? pPathName : location.pathname} timeout={timeout}>\r\n        {(status) => <div style={styles[status]}>{children}</div>}\r\n      </ReactTransition>\r\n    </TransitionGroup>\r\n  );\r\n};\r\n\r\nexport default Transition;\r\n","import { Box, Heading } from \"gestalt\";\r\nfunction Home() {\r\n  return (\r\n    <Box padding={12}>\r\n      <Heading align=\"center\">正在开发中!</Heading>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Box, Column, Button, Divider } from \"gestalt\";\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport Transition from \"../../components/Transition\";\r\nimport Building from \"../Building\";\r\n\r\nfunction System(props) {\r\n  return (\r\n    <Box display=\"flex\" direction=\"row\" paddingY={2}>\r\n      <Column span={2}>\r\n        <Box color=\"lightGray\" padding={1}>\r\n          <Box color=\"white\" paddingY={2}>\r\n            <Link to=\"/system/\">\r\n              <Button text=\"网站设置\" color=\"transparent\" />\r\n            </Link>\r\n            <Divider />\r\n            <Link to=\"/system/config\">\r\n              <Button text=\"环境变量\" color=\"transparent\" />\r\n            </Link>\r\n          </Box>\r\n        </Box>\r\n      </Column>\r\n      <Column span={10}>\r\n        <Box color=\"lightGray\" padding={1}>\r\n          <Box color=\"white\" paddingY={2} overflow=\"hidden\">\r\n            <Transition {...props}>\r\n              <Switch location={props.location}>\r\n                <Route exact path=\"/system/\" component={Building} />\r\n                <Route path=\"/system/config\" component={Building} />\r\n              </Switch>\r\n            </Transition>\r\n          </Box>\r\n        </Box>\r\n      </Column>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default System;\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\nfunction handleOption(opt) {\r\n  let newList = [];\r\n  function work(opt) {\r\n    if (Array.isArray(opt)) {\r\n      opt.forEach(work);\r\n    } else if (opt instanceof Object) {\r\n      Object.values(opt).forEach(work);\r\n    } else {\r\n      newList.push(opt);\r\n    }\r\n  }\r\n  work(opt);\r\n  return newList;\r\n}\r\n\r\nfunction useBaseFetch(ql, { defaultData }) {\r\n  let [data, setData] = useState(defaultData || {});\r\n  let [loading, setLoading] = useState(false);\r\n  let [error, setError] = useState(null);\r\n\r\n  let stateRef = useRef();\r\n  useEffect(() => {\r\n    stateRef.current = true;\r\n    return () => {\r\n      stateRef.current = false;\r\n    };\r\n  }, []);\r\n\r\n  function fetch(params, { onError, onSuccess, updateQuery, title = \"请求\" }) {\r\n    // 初始数据\r\n    setLoading(true);\r\n    //setData({});\r\n    setError(null);\r\n    ql(params)\r\n      .then((res) => {\r\n        if (!stateRef.current) {\r\n          return;\r\n        }\r\n        onSuccess && onSuccess({ type: \"success\", message: `${title}成功` }, res);\r\n        setLoading(false);\r\n        if (updateQuery) {\r\n          res = updateQuery(data, res, params);\r\n        }\r\n        setData(res);\r\n      })\r\n      .catch(function (error) {\r\n        if (!stateRef.current) {\r\n          return;\r\n        }\r\n        setLoading(false);\r\n        setError(error.message);\r\n        onError && onError({ type: \"error\", message: `${error.message || error.msg}` });\r\n      });\r\n  }\r\n  //更新缓存数据\r\n  function updateCache(fun) {\r\n    setData(fun(data));\r\n  }\r\n  return { fetch, data, loading, error, setError, updateCache, setLoading };\r\n}\r\nexport function useQuery(ql, params, options) {\r\n  let context = useBaseFetch(ql, options);\r\n  return {\r\n    ...context,\r\n    fetch: (newParams, newOptions) => {\r\n      context.fetch({ ...params, ...newParams }, { ...options, ...newOptions });\r\n    },\r\n  };\r\n}\r\n\r\nexport function useAutoQuery(ql, params = {}, options = {}) {\r\n  let context = useBaseFetch(ql, options);\r\n  let defaultData = options.defaultData;\r\n  console.log(defaultData);\r\n  useEffect(() => {\r\n    if (!defaultData || Object.keys(defaultData).length == 0) {\r\n      //是否等待\r\n      if (options.stop) {\r\n        //停止不需要加载效果\r\n      } else if (options.hold) {\r\n        //hold需要加载效果\r\n        context.setLoading(true);\r\n      } else {\r\n        context.fetch(params, options);\r\n      }\r\n    }\r\n  }, [...handleOption(params), defaultData]);\r\n\r\n  return {\r\n    ...context,\r\n    fetchMore: (newParams, newOptions, updateQuery) => {\r\n      context.fetch({ ...params, ...newParams }, { updateQuery, ...options, ...newOptions });\r\n    },\r\n    update: () => {\r\n      context.fetch(params, options);\r\n    },\r\n  };\r\n}\r\n","import axios from \"../../uitls/http\";\r\nimport { baseUrl } from \"../../api\";\r\n\r\nexport async function getShop(params) {\r\n  let { data } = await axios.get(baseUrl + \"/shop/shop/\" + params.id);\r\n  let res = data.data;\r\n  if (res.attr.length == 0) {\r\n    res.attr = [{}];\r\n  }\r\n  return res;\r\n}\r\nexport async function addShop(params) {\r\n  let { data } = await axios.post(baseUrl + \"/shop/add\", { ...params });\r\n  return data.data;\r\n}\r\n\r\nexport async function editShop(params) {\r\n  let { data } = await axios.post(baseUrl + \"/shop/edit\", { ...params });\r\n  return data.data;\r\n}\r\nexport async function delShop(params) {\r\n  let { data } = await axios.post(baseUrl + \"/shop/status\", { id: params.id, status: 1 });\r\n  return data.data;\r\n}\r\n\r\nexport async function reShop(params) {\r\n  let { data } = await axios.post(baseUrl + \"/shop/status\", { id: params.id, status: 0 });\r\n  return data.data;\r\n}\r\n\r\nexport async function shops(params) {\r\n  let { data } = await axios.get(baseUrl + \"/shop/list\", { params });\r\n  return data.data;\r\n}\r\n","import React from \"react\";\r\nimport { Box, ButtonGroup, Button, IconButton, Text } from \"gestalt\";\r\n\r\nfunction Header({ history, page, onChange, total_page = 0 }) {\r\n  let list = Array.from(Array(total_page + 1), (v, k) => k);\r\n  if (total_page == 0) {\r\n    return <></>;\r\n  }\r\n  return (\r\n    <Box>\r\n      <Box display=\"flex\" justifyContent=\"center\">\r\n        <ButtonGroup>\r\n          <IconButton\r\n            icon=\"arrow-back\"\r\n            size=\"sm\"\r\n            color=\"transparent\"\r\n            disabled={page == 0}\r\n            onClick={(e) => {\r\n              onChange({ page: page - 1 });\r\n            }}\r\n          />\r\n          {list.map((index) => (\r\n            <Button\r\n              key={index}\r\n              text={index + 1}\r\n              size=\"sm\"\r\n              color={page == index ? \"red\" : \"transparent\"}\r\n              onClick={(e) => {\r\n                onChange({ page: index });\r\n              }}\r\n            />\r\n          ))}\r\n\r\n          <IconButton\r\n            icon=\"arrow-forward\"\r\n            size=\"sm\"\r\n            color=\"transparent\"\r\n            disabled={page == total_page}\r\n            onClick={(e) => {\r\n              onChange({ page: page + 1 });\r\n            }}\r\n          />\r\n        </ButtonGroup>\r\n        {/* <Text>Total:{total_page}</Text> */}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState } from \"react\";\r\nimport { useAutoQuery, useQuery } from \"../../uitls/query\";\r\nimport { shops, delShop } from \"./api\";\r\nimport { Table, Text, Image, Mask, Box, IconButton, SearchField, Spinner } from \"gestalt\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getImgSrc } from \"../../uitls/tools\";\r\nimport Page from \"../../components/Page\";\r\n\r\nlet pData = null;\r\nfunction List(props) {\r\n  let params = new URLSearchParams(props.location.search);\r\n\r\n  let [keyword, setKeyword] = useState(\"\");\r\n  let { data, update, loading, fetchMore } = useAutoQuery(shops, { status: params.get(\"status\") || 0, keyword }, { defaultData: pData });\r\n  let { fetch: delFetch } = useQuery(delShop, {}, { onSuccess: () => update() });\r\n  let { list, page, total_page, page_size } = (pData = data);\r\n\r\n  return (\r\n    <Box>\r\n      <Box padding={2}>\r\n        <Box width={250} marginStart=\"auto\">\r\n          <SearchField accessibilityLabel=\"搜索\" id=\"searchField\" onChange={({ value }) => setKeyword(value)} placeholder=\"搜索\" value={keyword} />\r\n        </Box>\r\n      </Box>\r\n\r\n      <Table>\r\n        <Table.Header sticky>\r\n          <Table.Row>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">图片</Text>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">商品名</Text>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">价格</Text>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">代理商品名</Text>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">代理价格</Text>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Text weight=\"bold\">编辑</Text>\r\n            </Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {list?.map((item) => (\r\n            <Table.Row key={item.id}>\r\n              <Table.Cell>\r\n                <Box display=\"flex\" alignItems=\"center\">\r\n                  <Box width={80}>\r\n                    {item.photo && (\r\n                      <Mask rounding={2} wash>\r\n                        <Image alt=\"Luna\" src={getImgSrc(item.photo[0]?.url)} naturalHeight={50} naturalWidth={50} />\r\n                      </Mask>\r\n                    )}\r\n                  </Box>\r\n                  <Box paddingX={1}>\r\n                    <Text>+{item.photo.length}</Text>\r\n                  </Box>\r\n                </Box>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text>{item.name}</Text>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text>{item.price}</Text>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text>{item.proxy_name}</Text>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Text>{item.proxy_price}</Text>\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <Box display=\"flex\">\r\n                  <Link to={`/shop/edit/${item.id}`}>\r\n                    <IconButton icon=\"edit\" />\r\n                  </Link>\r\n\r\n                  {item.status === 0 && (\r\n                    <IconButton\r\n                      icon=\"cancel\"\r\n                      onClick={(e) => {\r\n                        delFetch({ id: item.id });\r\n                      }}\r\n                    />\r\n                  )}\r\n                </Box>\r\n              </Table.Cell>\r\n            </Table.Row>\r\n          ))}\r\n        </Table.Body>\r\n      </Table>\r\n      <Spinner show={loading} accessibilityLabel=\"加载中\" size=\"sm\" />\r\n      <Page page={page} page_size={page_size} total_page={total_page} onChange={fetchMore} />\r\n    </Box>\r\n  );\r\n}\r\nexport default List;\r\n","import React, { forwardRef, useState } from \"react\";\r\n\r\nconst FormItem = forwardRef(function ({ defaultValue, onChange, com, ...other }, ref) {\r\n  let [value, setValue] = useState(defaultValue);\r\n  const Com = com;\r\n  return (\r\n    <Com\r\n      {...other}\r\n      id={other.name}\r\n      onChange={(e) => {\r\n        setValue(e.value);\r\n        onChange && onChange(e);\r\n      }}\r\n      value={value}\r\n      ref={ref}\r\n    />\r\n  );\r\n});\r\n\r\nexport default FormItem;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { baseUrl } from \"../api\";\r\nimport { Button, Box, IconButton, Text } from \"gestalt\";\r\nimport syled from \"styled-components\";\r\nimport { useForm, useFieldArray } from \"react-hook-form\";\r\n\r\nconst ImageBox = syled.div`\r\n  width:200px;\r\n  img{\r\n    width:100%;\r\n  }\r\n\r\n`;\r\n\r\nfunction FilesShow({ uploads, remove }) {\r\n  return (\r\n    <>\r\n      {Object.values(uploads).map((item) => (\r\n        <Box display=\"flex\" key={item.url}>\r\n          <Box paddingY={3}>\r\n            {item.pre}%-{item.url}\r\n          </Box>{\" \"}\r\n          {item.pre == 100 && <IconButton accessibilityLabel=\"clear\" icon=\"clear\" onClick={(e) => remove(item)} />}\r\n        </Box>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction ImagesShow({ uploads, remove }) {\r\n  return (\r\n    <Box display=\"flex\" marginBottom={2} wrap>\r\n      {Object.values(uploads).map((item) => (\r\n        <Box position=\"relative\" color=\"lightGray\" margin={1} key={item.url}>\r\n          <ImageBox>\r\n            <img src={`${baseUrl}${item.url}`} />\r\n            <Box position=\"absolute\" color=\"white\" bottom={true}>\r\n              <Text size=\"sm\">\r\n                {item.pre}%-{item.url}\r\n              </Text>\r\n            </Box>\r\n          </ImageBox>\r\n          <Box position=\"absolute\" top={true} right={true}>\r\n            {item.pre == 100 && <IconButton accessibilityLabel=\"clear\" iconColor=\"white\" icon=\"clear\" onClick={(e) => remove(item)} />}\r\n          </Box>\r\n        </Box>\r\n      ))}\r\n    </Box>\r\n  );\r\n}\r\n\r\nfunction FileUpload({ name, formCtx, label, type = \"image\" }) {\r\n  const { control, register } = formCtx;\r\n  const { fields, append, prepend, remove, swap, move, insert } = useFieldArray({\r\n    control,\r\n    name: name,\r\n  });\r\n\r\n  let fileRef = useRef();\r\n  let [uploads, setUploads] = useState({});\r\n  useEffect(() => {\r\n    if (fields) {\r\n      let newUploads = [];\r\n      fields.map((field) => {\r\n        newUploads.push({ url: field.url, pre: 100 });\r\n      });\r\n      setUploads(newUploads);\r\n    }\r\n  }, [fields]);\r\n\r\n  function setFileStatus(id, obj) {\r\n    setUploads((data) => ({\r\n      ...data,\r\n      [id]: data[id] ? { fileid: id, ...data[id], ...obj } : obj,\r\n    }));\r\n  }\r\n\r\n  function updateFile(file) {\r\n    let data = new FormData();\r\n    data.append(\"file\", file);\r\n    let fileId = file.lastModified;\r\n    setFileStatus(fileId, {\r\n      fileId,\r\n      pre: 0,\r\n      url: \"\",\r\n    });\r\n    axios\r\n      .post(`${baseUrl}/file/uploadfile`, data, {\r\n        onUploadProgress: (e) => {\r\n          let pre = Math.floor((e.loaded / e.total) * 100);\r\n          setFileStatus(fileId, {\r\n            pre: pre,\r\n          });\r\n          // e.loaded 已经上传的字节数据，e.total 字节数据  转换为1-100的比例值 赋值个pre\r\n        },\r\n      })\r\n      .then(({ data }) => {\r\n        //setFileStatus(fileId, data.data);\r\n        append(data.data);\r\n      });\r\n  }\r\n  function updateFiles(files) {\r\n    for (let item of files) {\r\n      updateFile(item);\r\n    }\r\n  }\r\n\r\n  function removeFile(item) {\r\n    // let newUploads = { ...uploads };\r\n    // delete newUploads[item.fileId];\r\n    // setUploads(newUploads);\r\n    let index = fields.findIndex((findItem) => findItem.url == item.url);\r\n    if (index > -1) {\r\n      remove(index);\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      {type == \"file\" && <FilesShow uploads={uploads} remove={removeFile} />}\r\n      {type == \"image\" && <ImagesShow uploads={uploads} remove={removeFile} />}\r\n      {fields.map((field, index) => {\r\n        return (\r\n          <div key={field.id} style={{ display: \"none\" }}>\r\n            <input name={`${name}[${index}].url`} defaultValue={field.url} ref={register()} />\r\n          </div>\r\n        );\r\n      })}\r\n      <Button\r\n        text={label || \"上传文件\"}\r\n        onClick={(e) => {\r\n          fileRef.current.click();\r\n        }}\r\n        inline\r\n      />\r\n      <input\r\n        type=\"file\"\r\n        multiple\r\n        ref={fileRef}\r\n        style={{ display: \"none\" }}\r\n        onChange={(e) => {\r\n          updateFiles(e.target.files);\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FileUpload;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Box, Toast } from \"gestalt\";\r\nfunction ToastExample({ message = { type: \"\", message: \"\" }, time = 2000 }) {\r\n  let [showToast, setShowToast] = useState(false);\r\n  useEffect(() => {\r\n    if (message.message) {\r\n      setShowToast(true);\r\n      setTimeout(() => {\r\n        setShowToast(false);\r\n      }, time);\r\n    }\r\n  }, [message.message]);\r\n  return (\r\n    <Box\r\n      fit\r\n      dangerouslySetInlineStyle={{\r\n        __style: {\r\n          bottom: 50,\r\n          left: \"50%\",\r\n          transform: \"translateX(-50%)\",\r\n        },\r\n      }}\r\n      paddingX={1}\r\n      position=\"fixed\"\r\n    >\r\n      {showToast && <Toast text={message.message || \"\"} />}\r\n    </Box>\r\n  );\r\n}\r\nexport default ToastExample;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, TextField, IconButton, Text } from \"gestalt\";\r\nimport FormItem from \"./FormItem\";\r\nimport { useFieldArray } from \"react-hook-form\";\r\nimport ToastExample from \"./ShowMessage\";\r\n\r\nfunction FormAttr({ name, formCtx: { control, register } }) {\r\n  const { fields, append, prepend, remove, swap, move, insert } = useFieldArray({\r\n    control,\r\n    name: name,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (fields.length == 0) {\r\n      append({});\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {fields.map(\r\n        (field, index) =>\r\n          field && (\r\n            <Box display=\"flex\" wrap key={field.id}>\r\n              <Box column={3} paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name={`${name}[${index}].name`} defaultValue={field.name} label=\"大类\" ref={register()} />\r\n              </Box>\r\n              <Box column={2} paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name={`${name}[${index}].value`} defaultValue={field.value} label=\"值\" type=\"number\" ref={register()} />\r\n              </Box>\r\n              <Box marginTop={9}>\r\n                <IconButton\r\n                  accessibilityLabel=\"clear\"\r\n                  icon=\"cancel\"\r\n                  onClick={(e) => {\r\n                    remove(index);\r\n                  }}\r\n                />\r\n              </Box>\r\n              <Box marginTop={9}>\r\n                <IconButton\r\n                  accessibilityLabel=\"添加\"\r\n                  icon=\"add\"\r\n                  onClick={(e) => {\r\n                    if (index == fields.length - 1) {\r\n                      append({});\r\n                    } else {\r\n                      insert(index + 1, {});\r\n                    }\r\n                  }}\r\n                />\r\n              </Box>\r\n            </Box>\r\n          )\r\n      )}\r\n      {/* <Box marginStart={12}>\r\n        <Text>合计:{total + \"\"}</Text>\r\n      </Box> */}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FormAttr;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, TextField, Heading, Flex, Button, Callout } from \"gestalt\";\r\nimport FormItem from \"../../components/FormItem\";\r\nimport FileUpload from \"../../components/FileUpload\";\r\nimport { useForm, useFieldArray } from \"react-hook-form\";\r\nimport { addShop, editShop, getShop, reShop } from \"./api\";\r\nimport { useQuery, useAutoQuery } from \"../../uitls/query\";\r\nimport FormAttr from \"../../components/FormAttr\";\r\nimport ShowMessage from \"../../components/ShowMessage\";\r\nfunction Add(props) {\r\n  let [message, setMessage] = useState(\"\");\r\n  let { id } = props.match.params;\r\n  let isEdit = typeof id !== \"undefined\";\r\n  const { control, register, reset, handleSubmit, watch } = useForm();\r\n  let formCtx = {\r\n    control,\r\n    register,\r\n    reset,\r\n    handleSubmit,\r\n    watch,\r\n  };\r\n  let { fetch, error } = useQuery(isEdit ? editShop : addShop, null, { onSuccess: setMessage });\r\n  let { fetch: reShopFetch } = useQuery(reShop, { id: id }, { onSuccess: setMessage });\r\n\r\n  let { data } = useAutoQuery(getShop, { id: id }, { stop: !id, onSuccess: (msg, res) => reset(res) });\r\n\r\n  const onSubmit = (data) => fetch(isEdit ? { id, ...data } : data);\r\n  return (\r\n    <Box padding={3}>\r\n      <Flex justifyContent=\"center\">\r\n        <Box direction=\"column\" display=\"flex\" maxWidth={1200} width=\"100%\" wrap>\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <Heading accessibilityLevel={2} size=\"md\">\r\n              添加商品\r\n            </Heading>\r\n          </Box>\r\n          <ShowMessage message={message} />\r\n          <Box paddingX={1} paddingY={1}>\r\n            {error && <Callout type=\"error\" iconAccessibilityLabel=\"Error icon\" message={error} />}\r\n          </Box>\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <Box display=\"flex\" wrap>\r\n              <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name=\"name\" label=\"名字\" ref={register()} />\r\n              </Box>\r\n              <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name=\"proxy_name\" label=\"代理名字\" ref={register()} />\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box display=\"flex\" wrap>\r\n              <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name=\"price\" label=\"价格\" type=\"number\" ref={register()} />\r\n              </Box>\r\n              <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n                <FormItem com={TextField} name=\"proxy_price\" label=\"代理价格\" type=\"number\" ref={register()} />\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n              <FileUpload name=\"photo\" label=\"上传封面\" formCtx={formCtx} />\r\n            </Box>\r\n\r\n            <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n              <Heading accessibilityLevel={2} size=\"sm\">\r\n                附加属性\r\n              </Heading>\r\n            </Box>\r\n\r\n            <FormAttr name=\"attr\" formCtx={formCtx} />\r\n\r\n            <Box display=\"flex\" justifyContent=\"end\" paddingX={3} paddingY={3} marginTop={2}>\r\n              <Box margin={1}>\r\n                <Button text=\"返回\" inline onClick={(e) => props.history.goBack()} />\r\n              </Box>\r\n              {data.status == 1 && (\r\n                <Box margin={1}>\r\n                  <Button text=\"从回收站恢复\" inline onClick={(e) => reShopFetch()} />\r\n                </Box>\r\n              )}\r\n              <Box margin={1}>\r\n                <Button text=\"保存商品\" color=\"red\" inline type=\"submit\" />\r\n              </Box>\r\n            </Box>\r\n          </form>\r\n        </Box>\r\n      </Flex>\r\n    </Box>\r\n  );\r\n}\r\nexport default Add;\r\n","import React from \"react\";\r\nimport { Box, Column, Button, Divider } from \"gestalt\";\r\nimport { Switch, Route, NavLink } from \"react-router-dom\";\r\nimport Transition from \"../../components/Transition\";\r\nimport List from \"./List\";\r\nimport Add from \"./Add\";\r\nfunction Shop(props) {\r\n  return (\r\n    <Box display=\"flex\" direction=\"row\" paddingY={2}>\r\n      <Column span={2}>\r\n        <Box color=\"lightGray\" padding={1}>\r\n          <Box color=\"white\" paddingY={2}>\r\n            <NavLink exact activeClassName=\"selected\" to=\"/shop\">\r\n              <Button text=\"商品列表\" color=\"transparent\" />\r\n            </NavLink>\r\n            <Divider />\r\n            <NavLink activeClassName=\"selected\" to=\"/shop/add\">\r\n              <Button text=\"添加商品\" color=\"transparent\" />\r\n            </NavLink>\r\n            <Divider />\r\n            <NavLink activeClassName=\"selected\" to=\"/shop/recovery?status=1\">\r\n              <Button text=\"回收站\" color=\"transparent\" />\r\n            </NavLink>\r\n          </Box>\r\n        </Box>\r\n      </Column>\r\n      <Column span={10}>\r\n        <Box color=\"lightGray\" padding={1}>\r\n          <Box color=\"white\" paddingY={2}>\r\n            <Transition {...props}>\r\n              <Switch location={props.location}>\r\n                <Route path=\"/shop/add\" component={Add} />\r\n                <Route path=\"/shop/edit/:id\" component={Add} />\r\n                <Route path=\"/shop/recovery\" component={List} />\r\n                <Route path=\"/shop\" component={List} />\r\n              </Switch>\r\n            </Transition>\r\n          </Box>\r\n        </Box>\r\n      </Column>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Shop;\r\n","import { Box, Heading } from \"gestalt\";\r\nfunction Home() {\r\n  return (\r\n    <Box padding={12}>\r\n      <Heading align=\"center\">主页正在开发中!</Heading>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useEffect } from \"react\";\r\nimport { useAutoQuery } from \"../uitls/query\";\r\nimport { userInfo } from \"../api\";\r\n\r\nfunction useUserInfo(push) {\r\n  let { data, error, loading } = useAutoQuery(userInfo, null, {\r\n    onError(msg, e) {\r\n      push(\"/signin\");\r\n    },\r\n    onSuccess(msg, data) {\r\n      if (data.role !== \"admin\") {\r\n        push(\"/signin\");\r\n      }\r\n    },\r\n  });\r\n\r\n  return data;\r\n}\r\n\r\nexport default useUserInfo;\r\n","import React from \"react\";\r\nexport const UserContext = React.createContext(null);\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Box, Spinner } from \"gestalt\";\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport Header from \"../components/Header\";\r\nimport System from \"../page/system/System\";\r\nimport Shop from \"../page/shop/Shop\";\r\nimport Home from \"../page/Home\";\r\nimport useUserInfo from \"../hooks/useUserInfo\";\r\nimport { UserContext } from \"../components/UserContext\";\r\n\r\nfunction IndexPage(props) {\r\n  let userData = useUserInfo(props.history.push);\r\n  if (!userData.id) {\r\n    return (\r\n      <Box paddingY={12}>\r\n        <Spinner show={true} accessibilityLabel=\"获取用户数据\" />\r\n      </Box>\r\n    );\r\n  }\r\n  return (\r\n    <UserContext.Provider value={userData}>\r\n      <Header {...props} />\r\n      <Switch location={props.location}>\r\n        <Route path=\"/system\" component={System} />\r\n        <Route path=\"/shop\" component={Shop} />\r\n        <Route path=\"/\" component={Home} />\r\n      </Switch>\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default IndexPage;\r\n","import React from \"react\";\r\nimport { Box, Heading, TextField, Callout, Button, Spinner } from \"gestalt\";\r\nimport { useQuery } from \"../uitls/query\";\r\nimport { signin } from \"../api\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport FormItem from \"../components/FormItem\";\r\n\r\nfunction Signin({ history }) {\r\n  let { fetch, error, loading } = useQuery(signin, null, {\r\n    onSuccess: () => {\r\n      history.push(\"/shop\");\r\n    },\r\n  });\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const onSubmit = (data) => {\r\n    fetch(data);\r\n  };\r\n\r\n  return (\r\n    <Box display=\"flex\" justifyContent=\"center\" height=\"100%\">\r\n      <Box borderStyle=\"sm\" display=\"flex\" margin=\"auto\" marginTop=\"auto\" wrap width=\"100%\" direction=\"column\" maxWidth={800}>\r\n        <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n          <Heading size=\"sm\" accessibilityLevel={2}>\r\n            登录后台管理系统\r\n          </Heading>\r\n        </Box>\r\n        <Box paddingX={1} paddingY={1}>\r\n          {error && <Callout type=\"error\" iconAccessibilityLabel=\"Error icon\" message={error} />}\r\n        </Box>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <FormItem com={TextField} name=\"name\" label=\"账号\" placeholder=\"请输入账号\" ref={register} />\r\n          </Box>\r\n\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <FormItem com={TextField} name=\"password\" label=\"密码\" type=\"password\" placeholder=\"请输入密码\" ref={register} />\r\n          </Box>\r\n\r\n          <Spinner show={loading} accessibilityLabel=\"登录中\" size=\"sm\" />\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <Box justifyContent=\"end\" marginStart={-1} marginEnd={-1} marginTop={-1} marginBottom={-1} display=\"flex\" wrap>\r\n              <Box paddingX={1} paddingY={1}>\r\n                <Button text=\"登录\" color=\"red\" size=\"lg\" type=\"submit\" />\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n        </form>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\nexport default Signin;\r\n","import Frame from \"./Frame\";\nimport Signin from \"../page/Signin\";\nimport { Route, Switch } from \"react-router-dom\";\n\nfunction Root(props) {\n  return (\n    <Switch>\n      <Route path=\"/signin\" component={Signin} />\n      <Route path=\"/\" component={Frame} />\n    </Switch>\n  );\n}\n\nexport default Root;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Root from \"./frame/Root\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./style/public.css\";\n//import \"./style/theme.css\";\nimport \"gestalt/dist/gestalt.css\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Root />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}